{% load staticfiles %}
<html>
<head>
	  <title>Lifestyle Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
   <script type="text/javascript">
   		$(document).ready(function() {
   			$(document).on('click', function (){
	   			$('#btnGetFood').click(function(){
	   				var resultElement = $('#resultDiv');
	   				var food_name = $('#foodnameLabel');
	   				var serving_size = $('#servingsizeLabel');
	   				var calories = $('#caloriesLabel');
	   				var carbs = $('#carbsLabel');
	   				var fats = $('#fatsLabel');
	   				var protein = $('#proteinLabel');
	   				var sugar = $('#sugarsLabel');
	   				$.ajax({
	   					url: 'https://nutritionix-api.p.mashape.com/v1_1/search/' + $('#txtFood').val() + '?fields=item_name%2Cnf_calories%2Cnf_total_fat%2Cnf_protein%2Cnf_trans_fatty_acid%2Cnf_sugars%2Cnf_servings_per_container%2Cnf_total_carbohydrate',
	   					method: 'get',
	   					dataType: 'json',
	   					headers: { "X-Mashape-Key": "ZQdVejWpzXmshdaZtQfKzwtGzxytp1rSizcjsnb1bGwELdPAIB" },
	   					success: function (data){
	   						console.log(data.hits[0].fields);
	   						food_name.html(data.hits[0].fields.item_name);
	   						serving_size.html(data.hits[0].fields.nf_serving_size_qty);
	   						calories.html(data.hits[0].fields.nf_calories);
	   						carbs.html(data.hits[0].fields.nf_total_carbohydrate + " grams");
	   						fats.html(data.hits[0].fields.nf_total_fat + " grams");
	   						protein.html(data.hits[0].fields.nf_protein + " grams");
	   						sugar.html(data.hits[0].fields.nf_sugars + " grams");
	   					}
	   				});
	   			});
	   		});
   		});
   </script>
</head>
<body>
	<div class="container">
	    <div class="row">
	      	<nav class="navbar navbar-inverse">
	        	<div class="container-fluid">
	          		<div class="navbar-header">
	            		<a class="navbar-brand" href="#">The Black Squirrels Fitness Community</a>
	            	</div>
	          		<ul class="nav navbar-nav">
	            		<li class="active"><a href="{% url 'fitness_app:lifestyle' %}">LIFESTYLE</a></li>
	            		<li><a href="{% url 'fitness_app:index' %}">HOME</a></li>
	            		<li><a href="{% url 'fitness_app:lifestyle' %}">LIFESTYLE</a></li>
	            		<li><a href="{% url 'fitness_app:analysis' %}">ANALYSIS</a></li>
	            		<li><a href="{% url 'fitness_app:community' %}">COMMUNITY</a></li>
	            		<li><a href="{% url 'login_app:logout' %}">LOG OUT</a></li>
	          		</ul>
	        	</div>
	      	</nav>
	    </div>
	    <div class="row">
	  			<h3>Lifestyle Page</h3>
		</div>
	    <div class="row">
	    	<div class="col-md-3">
		    	<dl class="dl-horizontal">
  					<dt>First Name</dt><dd>{{user.first_name}}</dd>
  					<dt>Last Name</dt><dd>{{user.last_name}}</dd>
  					<dt>Height</dt><dd>{{user.feet}}'{{user.inches}}"</dd>
  					<dt>Age</dt><dd>{{user.age}}</dd>
  					<dt>Weight</dt><dd>{{user.weight}} lbs</dd>
  					<dt>Gender</dt><dd>{{user.gender}}</dd>
				</dl>
		    </div>
		    <div class="col-md-9">
	    		<table class="table table-inverse">
					<thead>
				    	<tr>
					    	<th>Lose 2 lbs Per Week</th>
					    	<th>Lose 1 lbs Per Week</th>
					    	<th>Maintain</th>
					    	<th>Gain 1 lbs Per Week</th>
					    	<th>Gain 2 lbs Per Week</th>
				    	</tr>
					</thead>
				  	<tbody>
				  		<tr>
				    		<form action="" method="post">
				    			{% csrf_token %}
					    		<td><input type="radio" name="goal" value="Lose2">1200 Calories</td>
					      		<td><input type="radio" name="goal" value="Lose1">1500 Calories</td>
					      		<td><input type="radio" name="goal" value="maintain">1800 Calories</td>
					      		<td><input type="radio" name="goal" value="gain1">2100 Calories</td>
					      		<td><input type="radio" name="goal" value="gain2">2400 Calories</td>
				    		</form>
						</tr>
				  	</tbody>
				</table>
		    </div>
	    </div>
	    <div id="row">
	    	<div class="col-md-2">
				<h4>Enter a Food Item</h4>
				<input type="text" id="txtFood">
				<input type="button" id="btnGetFood" value="Get Food Data">
					<div id="resultDiv"></div>
			</div>
			<div class="col-md-10">
				<table class="table">
				  <thead class="thead-inverse">
				    <tr>
				      <th>Food</th>
				      <th>Serving Size</th>
				      <th>Calories</th>
				      <th>Carbs</th>
				      <th>Fats</th>
				      <th>Protein</th>
				      <th>Sugars</th>
				    </tr>
				  </thead>
				  <tbody>
				    <tr>
				      <th scope="row"><label id="foodnameLabel">Funnel Cake</label></th>
				      <td><label id="servingsizeLabel">25 Servings</label></td>
				      <td><label id="caloriesLabel">5000</label></td>
				      <td><label id="carbsLabel">700 grams</label></td>
				      <td><label id="fatsLabel">Obesity Level 1000</label></td>
				      <td><label id="proteinLabel">500 g</label></td>
				      <td><label id="sugarsLabel">3 LBS</label></td>
				    </tr>
				  </tbody>
				</table>
			</div>
		</div>
	    <div class="row">
	    	<form action="{% url 'fitness_app:quickweight' %}" method="post">
	        	{% csrf_token %}
	        	{{quickweight}}
	        	<input type="submit" value="submit"></h3>
	    	</form>
	    </div>
	</div>
</body>
</html>